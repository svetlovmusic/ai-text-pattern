<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Повторение рисунка</title>
  <style>
	/* Основные стили */
	body {
	  margin: 0;
	  padding: 0;
	  overflow: hidden; /* Чтобы не появлялись полосы прокрутки */
	  transition: background-color 0.3s, color 0.3s;
	  font-family: sans-serif;
	  font-size: 20px;
	  font-weight: 100;
	}
	
	/* Инпут для выбора цвета фона */
	#bgColorPicker {
	  position: absolute;
	  top: 10px;
	  left: 10px;
	  z-index: 10;
	}

	/* Блок с повторяющимся текстом */
	#pattern-container {
	  position: absolute;
	  top: 50%;
	  left: -100%;
	  width: 300%;
	  height: 300%;
	  transform: rotate(-30deg) translateY(-50%);
	  transform-origin: top left;
	  white-space: nowrap; 
	  opacity: 0.8;
	  user-select: none;
	}

	/* Каждая "строка" слов */
	.pattern-line {
	  line-height: 1.5em;
	}
  </style>
</head>
<body>
  <!-- Инпут для смены цвета фона -->
  <input type="color" id="bgColorPicker" value="#f6edda">

  <!-- Контейнер для фона из слов -->
  <div id="pattern-container"></div>

  <script>
	// Массив слов, который можно менять и дополнять
	const words = [
	  "Гитара",
	  "Компрессор",
	  "Аудиоинтерфейс",
	  "Эквалайзер",
	  "Педаль",
	  "Слайдер",
	  "Драм-машинка",
	  "Микшер",
	  "Сэмплер",
	  "Микрофон",
	  "Студийные",
	  "Мониторы",
	  "Наушники",
	  "Библиотека",
	  "Плагин",
	  "Гитарный усилитель",
	  "Ламповый усилитель",
	  "Дилей",
	  "Хорус",
	  "Флэнджер",
	  "Овердрайв",
	  "Фузз",
	  "Wah-педаль",
	  "Ревербератор",
	  "Директ-бокс",
	  "Тюнер",
	  "Рекордер",
	  "Секвенсор",
	  "MIDI-клавиатура",
	  "Синтезатор",
	  "Звуковая карта",
	  "Мастеринг-плагин",
	  "Коллекция семплов",
	  "MIDI-контроллер",
	  "Преамп",
	  "AD/DA-конвертер",
	  "Аудиоканал",
	  "Цифровой реверб",
	  "Дека",
	  "Чейн эффектов",
	  "Триггер",
	  "Патч-корд",
	  "Мультиэффект",
	  "Гитарная стойка",
	  "Кабель XLR",
	  "Поп-фильтр",
	  "USB-микрофон",
	  "Конденсаторный микрофон",
	  "Динамический микрофон",
	  "Гиперкардиоидный микрофон",
	  "Переходник",
	  "Мультиканальный микшер",
	  "Балансный выход",
	  "Роутинг",
	  "FireWire-интерфейс",
	  "Thunderbolt-интерфейс",
	  "Линеечный вход",
	  "Сабвуфер",
	  "Акустическая гитара",
	  "Электрогитара",
	  "Гитарный процессор",
	  "Кабинет",
	  "Расширение плагинов",
	  "Стереопара",
	  "Попсовый пресет",
	  "Рок-пресет",
	  "EDM-пресет",
	  "Мастер-трек",
	  "Групповой канал",
	  "Сайдчейн",
	  "Бит-контроллер",
	  "Хип-хоп пресет",
	  "Снейр",
	  "Кик",
	  "Хай-хет",
	  "Пэд",
	  "Луп",
	  "Шаблон",
	  "Виртуальный инструмент",
	  "Арпеджиатор",
	  "Моно-синтез",
	  "Полифония",
	  "Эмуляция усилителей",
	  "Сцена сведения",
	  "Бинауральный эффект",
	  "Мастер-шина",
	  "Двойная компрессия",
	  "Экспандер",
	  "Гейт",
	  "Импульсная свёртка",
	  "IR-файл",
	  "Басс-гитара",
	  "Драм-пэд",
	  "DJ-контроллер",
	  "Звуковой генератор",
	  "Стереоимиджер",
	  "Пэнорамирование",
	  "Многополосная компрессия",
	  "Фильтр низких частот",
	  "Фильтр высоких частот",
	  "Сатурация",
	  "Тейп-симуляция",
	  "Мастер-секция",
	  "Автоматизация",
	  "Сторожевой плагин",
	  "Тонгенератор",
	  "Постфейдерный посыл",
	  "Префейдерный посыл",
	  "Ручка громкости",
	  "Декликер",
	  "Ноузисподавление",
	  "Звуковой движок",
	  "Траектория сигнала",
	  "Touch-автоматизация",
	  "Latch-автоматизация",
	  "Write-автоматизация",
	  "Снэпшот автоматизации",
	  "Транзиент-шейпер",
	  "Лимитер",
	  "Банда-процесс",
	  "VCA-фейдер",
	  "Смарт-контроллер",
	  "Инверсия фазы",
	  "Фаза сигнала",
	  "Тест-тон",
	  "Браузер плагинов",
	  "Гейтированный реверб",
	  "Ди-бокс",
	  "МИД-сайд обработка",
	  "Псевдостерео",
	  "Разделение каналов",
	  "Смычковая библиотека",
	  "Хоровая библиотека",
	  "Библиотека ударных",
	  "Струнные секции",
	  "Педаль экспрессии",
	  "S/PDIF",
	  "AES/EBU",
	  "MIDI-порт",
	  "Тракт микрофона",
	  "Амбисоник",
	  "Софтсинт",
	  "Цифровой микшер",
	  "Маппинг контроллера",
	  "Макрос",
	  "Аранжировочный вид",
	  "Микшировочный вид",
	  "Мастер-метр",
	  "Пиковый индикатор",
	  "RMS-индикатор",
	  "LUFS-индикатор",
	  "Гармонизация",
	  "Питч-коррекция",
	  "Автотюн",
	  "Фильтр-эффект",
	  "Динамический эквалайзер",
	  "Параметрический эквалайзер",
	  "Графический эквалайзер",
	  "Виртуальный кабинет",
	  "Мультибенд компрессор",
	  "Сайдчейн-эквалайзер",
	  "Драм-рэк",
	  "Сцена Live",
	  "Роутер сигнала",
	  "Биты",
	  "Аранжировщик",
	  "Трекер",
	  "Степ-секвенсор",
	  "Шинный микшер",
	  "Луп-станция",
	  "Мастер-блок",
	  "Экспрессия",
	  "Педаль сустейна",
	  "MIDI-нота",
	  "MIDI-канал",
	  "MIDI-программа",
	  "Ручка панорамы",
	  "Синхронизация часов",
	  "Темп-трек",
	  "Глобальный темп",
	  "Маркеры",
	  "Звуковая сцена",
	  "Спектральный анализатор",
	  "Модуль синтеза",
	  "Шинная компрессия",
	  "Псевдомоно",
	  "Мультикор",
	  "Звуковой драйвер",
	  "Цифровая рабочая станция",
	  "Шина эффектов",
	  "Аутборд-устройство",
	  "Мастер-фейдер",
	  "Виртуальный микшер",
	  "Кроссовер",
	  "Сабмикширование",
	  "Динамическая сцена",
	  "Волновая форма",
	  "Срез частот",
	  "Битклипер",
	  "Звукоизвлечение"
	];

	function shuffleArray(array) {
	  for (let i = array.length - 1; i > 0; i--) {
		const j = (Math.random() * (i + 1)) | 0; // Быстрее, чем Math.floor
		[array[i], array[j]] = [array[j], array[i]];
	  }
	}
	
	function getLuminance(hex) {
	  hex = hex.replace('#', '');
	  const r = parseInt(hex.substring(0, 2), 16) / 255;
	  const g = parseInt(hex.substring(2, 4), 16) / 255;
	  const b = parseInt(hex.substring(4, 6), 16) / 255;
	  return 0.299 * r + 0.587 * g + 0.114 * b;
	}
	
	function getTextColorForBackground(hex) {
	  return getLuminance(hex) > 0.5 ? "#666666" : "#eeeeee";
	}
	
	function generatePatternLines(lineCount) {
	  const container = document.getElementById('pattern-container');
	  container.textContent = ''; // Быстрее и безопаснее, чем innerHTML = ''
	
	  const fragment = document.createDocumentFragment();
	
	  for (let i = 0; i < lineCount; i++) {
		const tempWords = [...words]; // Если words очень большой, можно избегать копирования
		shuffleArray(tempWords);
	
		const lineDiv = document.createElement('div');
		lineDiv.className = 'pattern-line';
		lineDiv.textContent = tempWords.join(' ');
		fragment.appendChild(lineDiv);
	  }
	
	  container.appendChild(fragment);
	}
	
	// Начальная генерация
	generatePatternLines(500);
	
	// Обработчик изменения цвета
	const bgColorPicker = document.getElementById('bgColorPicker');
	bgColorPicker.addEventListener('input', (e) => {
	  const bgColor = e.target.value;
	  document.body.style.backgroundColor = bgColor;
	  document.body.style.color = getTextColorForBackground(bgColor);
	});
	
	// Установка начального цвета
	const initialBg = bgColorPicker.value;
	document.body.style.backgroundColor = initialBg;
	document.body.style.color = getTextColorForBackground(initialBg);
  </script>
</body>
</html>